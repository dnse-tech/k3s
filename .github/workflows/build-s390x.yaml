name: Build s390x CI

on:
  push:
    branches:
      - main
      - master
    paths:
      - "scripts/**"
      - "pkg/**"
      - "cmd/**"
      - "go.mod"
      - "go.sum"
      - "Dockerfile*"
      - ".github/workflows/build-s390x.yaml"
  pull_request:
    paths:
      - "scripts/**"
      - "pkg/**"
      - "cmd/**"
      - "go.mod"
      - "go.sum"
      - "Dockerfile*"
      - ".github/workflows/build-s390x.yaml"
  workflow_dispatch:

permissions:
  contents: read
  packages: read

jobs:
  build-s390x:
    name: Build s390x (CI Validation)
    uses: ./.github/workflows/build-k3s.yaml
    with:
      arch: s390x
      upload-build: false
